<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Formulario de Videojuegos</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="container">
    <h3 class="center-align">Formulario de Videojuegos</h3>

    <form action="/saveGame" method="post">
      <div class="input-field">
        <input id="title" type="text" name="title" required />
        <label for="title">Título</label>
      </div>

      <div class="input-field">
        <input id="genre" type="text" name="genre" required />
        <label for="genre">Género</label>
      </div>

      <div class="input-field">
        <input id="platform" type="text" name="platform" required />
        <label for="platform">Plataforma</label>
      </div>

      <div class="input-field">
        <input id="cost" type="number" name="cost" required />
        <label for="cost">Costo</label>
      </div>

      <div class="input-field">
        <textarea
          id="description"
          class="materialize-textarea"
          name="description"
          required
        ></textarea>
        <label for="description">Descripción</label>
      </div>

      <button type="submit" class="waves-effect waves-light btn">Enviar</button>
      <a href="/" class="waves-effect waves-light btn grey">Volver</a>
    </form>

    <% if (games.length === 0) { %>
    <p>No hay videojuegos aún.</p>
    <% } else { %>
    <table class="striped">
      <thead>
        <tr>
          <th>Título</th>
          <th>Género</th>
          <th>Plataforma</th>
          <th>Costo</th>
          <th>Descripción</th>
        </tr>
      </thead>
      <tbody>
        <% games.forEach(g => { %>
        <tr>
          <td><%= g.title %></td>
          <td><%= g.genre %></td>
          <td><%= g.platform %></td>
          <td><%= g.cost %></td>
          <td><%= g.description %></td>
        </tr>
        <% }) %>
      </tbody>
    </table>
    <% } %>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  </body>
</html>
